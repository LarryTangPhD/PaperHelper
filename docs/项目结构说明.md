# 📁 项目结构说明

## 🎯 重构后的项目结构

```
PaperHelper/
├── main.py                          # 主启动文件
├── start.bat                        # Windows启动脚本
├── start.sh                         # Linux/Mac启动脚本
├── requirements.txt                 # 依赖包列表
├── README.md                        # 项目说明文档
├── src/                            # 源代码目录
│   ├── __init__.py                 # 包初始化文件
│   ├── core/                       # 核心模块
│   │   ├── __init__.py
│   │   └── PaperHelper.py          # 主应用文件
│   ├── modules/                    # 功能模块
│   │   ├── __init__.py
│   │   ├── advanced_analyzer.py    # 高级分析器
│   │   ├── document_processor.py   # 文档处理器（完整版）
│   │   ├── document_processor_simple.py  # 文档处理器（简化版）
│   │   └── writing_assistant.py    # 写作助手
│   ├── utils/                      # 工具模块
│   │   ├── __init__.py
│   │   └── PaperHelper_utils.py    # 核心工具函数
│   ├── config/                     # 配置模块
│   │   ├── __init__.py
│   │   ├── fast_llm_manager.py     # 快速模型管理器
│   │   └── fast_models_config.py   # 模型配置文件
│   ├── assets/                     # 资源文件
│   │   └── 作者头像.png            # 作者头像
│   └── scripts/                    # 脚本文件
│       ├── start_system.py         # 系统启动脚本
│       ├── test_system.py          # 系统测试脚本
│       ├── start_system.bat        # Windows启动脚本（旧版）
│       ├── start_system.sh         # Linux启动脚本（旧版）
│       └── 快速启动.bat            # 快速启动脚本（旧版）
├── tests/                          # 测试目录
└── docs/                           # 文档目录
    └── 项目结构说明.md             # 本文件
```

## 🔄 重构改进

### ✅ 已完成的改进

1. **模块化组织**
   - 按功能分类组织文件
   - 创建清晰的目录结构
   - 添加`__init__.py`文件使目录成为Python包

2. **文件分类**
   - `core/`: 核心应用逻辑
   - `modules/`: 功能模块（分析器、处理器、助手等）
   - `utils/`: 工具函数和通用功能
   - `config/`: 配置文件和模型管理
   - `assets/`: 静态资源文件
   - `scripts/`: 启动和测试脚本

3. **清理冗余文件**
   - 删除`temp_paper_annotation.py`临时文件
   - 保留`document_processor.py`和`document_processor_simple.py`（功能略有不同）
   - 整理启动脚本，创建新的简化版本

4. **更新导入路径**
   - 修复所有模块间的导入路径
   - 确保重构后系统能正常运行

### 🎯 目录说明

#### `src/core/` - 核心模块
- **PaperHelper.py**: 主应用文件，包含Streamlit界面和主要业务逻辑

#### `src/modules/` - 功能模块
- **advanced_analyzer.py**: 高级文档分析器，提供学术质量分析
- **document_processor.py**: 完整版文档处理器，支持多种格式
- **document_processor_simple.py**: 简化版文档处理器，减少依赖
- **writing_assistant.py**: 智能写作助手，提供写作指导和模板

#### `src/utils/` - 工具模块
- **PaperHelper_utils.py**: 核心工具函数，包含AI模型调用和业务逻辑

#### `src/config/` - 配置模块
- **fast_llm_manager.py**: 快速模型管理器，支持多种AI模型切换
- **fast_models_config.py**: 模型配置文件，定义各种模型的参数

#### `src/assets/` - 资源文件
- **作者头像.png**: 系统界面中显示的作者头像

#### `src/scripts/` - 脚本文件
- **start_system.py**: 系统启动脚本，包含环境检查
- **test_system.py**: 系统测试脚本，验证各模块功能
- 其他启动脚本：提供不同平台的启动方式

## 🚀 使用方法

### 快速启动
```bash
# Windows
start.bat

# Linux/Mac
./start.sh

# 直接使用Python
streamlit run main.py
```

### 开发模式
```bash
# 运行测试
python src/scripts/test_system.py

# 使用详细启动脚本
python src/scripts/start_system.py
```

## 📋 维护建议

1. **新增功能模块**：放在`src/modules/`目录下
2. **新增工具函数**：放在`src/utils/`目录下
3. **新增配置文件**：放在`src/config/`目录下
4. **新增资源文件**：放在`src/assets/`目录下
5. **新增测试文件**：放在`tests/`目录下
6. **新增文档**：放在`docs/`目录下

## 🔧 技术特点

- **模块化设计**：清晰的模块分离，便于维护和扩展
- **配置管理**：统一的配置管理，支持多种AI模型
- **错误处理**：完善的错误处理和回退机制
- **跨平台支持**：提供Windows、Linux、Mac的启动脚本
- **文档完善**：详细的文档说明和使用指南
